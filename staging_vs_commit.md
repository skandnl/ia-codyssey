# Git 스테이징 영역과 커밋의 차이점

## 개요
Git에서 파일의 변경사항을 저장하는 과정은 두 단계로 나뉩니다:
1. **스테이징 영역에 추가** (`git add`)
2. **커밋** (`git commit`)

## 스테이징 영역 (Staging Area)

### 정의
- 스테이징 영역은 **임시 저장소**입니다
- 다음 커밋에 포함될 변경사항들을 준비하는 공간
- "인덱스(Index)"라고도 불립니다

### 특징
- 변경사항을 **선택적으로** 추가할 수 있음
- 커밋하기 전에 변경사항을 **검토하고 정리**할 수 있음
- 언제든지 스테이징에서 **제거**할 수 있음 (`git reset`)

### 사용 명령어
```bash
# 특정 파일을 스테이징 영역에 추가
git add filename.txt

# 모든 변경사항을 스테이징 영역에 추가
git add .

# 스테이징 영역 상태 확인
git status

# 스테이징 영역에서 제거
git reset filename.txt
```

## 커밋 (Commit)

### 정의
- 커밋은 **영구적인 저장**입니다
- 스테이징 영역의 변경사항을 Git 저장소에 기록
- 각 커밋은 고유한 해시값을 가집니다

### 특징
- 프로젝트의 **특정 시점의 스냅샷**을 생성
- 커밋 메시지로 변경사항을 **설명**
- Git 히스토리에 **영구적으로 기록**됨
- 나중에 이 시점으로 **되돌아갈 수 있음**

### 사용 명령어
```bash
# 스테이징 영역의 변경사항을 커밋
git commit -m "커밋 메시지"

# 스테이징과 커밋을 동시에 (추적 중인 파일만)
git commit -am "커밋 메시지"

# 커밋 히스토리 확인
git log
```

## 주요 차이점

| 구분 | 스테이징 영역 | 커밋 |
|------|---------------|------|
| **성격** | 임시 저장소 | 영구 저장소 |
| **목적** | 변경사항 준비 | 변경사항 확정 |
| **수정 가능성** | 쉽게 수정/취소 가능 | 수정 어려움 |
| **Git 히스토리** | 기록되지 않음 | 영구적으로 기록 |
| **협업** | 개인 작업 공간 | 팀과 공유 가능 |

## 실제 작업 흐름 예시

### 1단계: 파일 수정
```bash
# 파일을 수정했다고 가정
echo "새로운 내용" > example.txt
```

### 2단계: 스테이징 영역에 추가
```bash
# 변경사항을 스테이징 영역에 추가
git add example.txt

# 상태 확인
git status
# 결과: Changes to be committed: modified: example.txt
```

### 3단계: 커밋
```bash
# 스테이징 영역의 변경사항을 커밋
git commit -m "example.txt 파일 내용 업데이트"

# 상태 확인
git status
# 결과: nothing to commit, working tree clean
```

## 왜 두 단계로 나뉘어 있을까?

### 1. 선택적 커밋
- 여러 파일을 수정했지만 일부만 커밋하고 싶을 때
- 논리적으로 관련된 변경사항만 함께 커밋할 수 있음

### 2. 커밋 전 검토
- 스테이징 영역에서 변경사항을 미리 확인
- 실수로 포함된 파일이나 내용을 제거할 수 있음

### 3. 더 나은 커밋 히스토리
- 의미 있는 단위로 변경사항을 그룹화
- 나중에 히스토리를 추적하기 쉬움

## 유용한 팁

### 스테이징 영역 활용
```bash
# 파일의 일부분만 스테이징
git add -p filename.txt

# 스테이징된 변경사항 미리보기
git diff --cached

# 특정 파일만 스테이징 해제
git reset filename.txt
```

### 커밋 관련 팁
```bash
# 마지막 커밋 메시지 수정
git commit --amend -m "새로운 메시지"

# 빈 커밋 생성 (테스트용)
git commit --allow-empty -m "빈 커밋"
```

## 정리

스테이징 영역과 커밋은 Git의 핵심 개념입니다:

- **스테이징 영역**: 변경사항을 준비하는 임시 공간
- **커밋**: 변경사항을 영구적으로 저장하는 과정

이 두 단계를 거치면서 더 체계적이고 의미 있는 버전 관리가 가능해집니다. 처음에는 복잡해 보일 수 있지만, 이해하고 나면 Git의 강력한 기능을 제대로 활용할 수 있습니다.

### 추가로 핵심적인 차이점을 요약하자면,

git add (스테이징)

Git 히스토리에 기록되지 않음
git log에 나타나지 않음
임시 저장소 역할만 함
언제든지 사라질 수 있음

git commit (커밋)

Git 히스토리에 영구적으로 기록됨
git log에서 확인 가능
고유한 해시값(SHA)을 가짐
프로젝트의 공식적인 기록이 됨